<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Garden Cultivation Robot | Alvaro Guerra</title>
    <link rel="stylesheet" href="../styles.css">
</head>
<body>
    <header>
        <a href="../index.html" class="logo-link">
            <div class="logo-name">
                <img src="../images/logo.png" alt="Logo" class="logo">
                <h2>Engineering Portfolio</h2>
            </div>
        </a>
        <nav>
            <a href="../index.html">Home</a> |
            <a href="about.html">About</a> |
            <a href="../files/Resume.pdf">Resume</a> |
            <a href="../index.html">Projects</a>
        </nav>
    </header>

    <!-- ─────────── MAIN CONTENT ─────────── -->
    <section>
        <!-- TITLE BLOCK -->
        <div class = "centered-content">
        <h1 style="color: #ffffff; text-align: center;">Garden Cultivation Robot</h1>
        <h2 style="color: #ffffff; text-align: center";><i>GCR</i></h2>
        <h3 style="color: #ffffff; text-align: center;">Senior Engineering Capstone Project – Texas A&amp;M University</h3>
        <br>
        
        <!-- OVERVIEW -->
        <p style="color: #ffffff;">
            The Garden Cultivation Robot, <i>GCR</i> was developed to address the physical challenges associated with home gardening, especially for elderly and mobility-limited individuals. The team's goal was to create a modular, remotely-controlled robot capable of traversing a 50-foot garden row while delivering water and fertilizer to plants. Key design goals included modularity, maneuverability, durability, and ease of use.
The final prototype successfully achieved its core objectives. The robot features a modular aluminum 8020 chassis with ABS and PETG enclosures, a twin DC motor drivetrain using chain and sprocket assemblies, and two modular subsystems for watering and fertilizing. The electronic control system was built around a dual-Arduino master-slave architecture, ensuring responsive wireless remote control with minimal signal latency. Failure risk assessments, including FMECA and Fault Tree Analysis, identified drivetrain misalignment and battery depletion as key concerns; these risks were addressed through design modifications, rigorous mechanical assembly, and iterative electronic debugging. The robot met major performance targets, including a 0.01 m turning radius, a 26% improvement in consumable volume, and a final project cost of $2,301.97, remaining within the approved contingency budget.
        </p>
        <br>
        <!-- ROLE & SCOPE -->
        <h3 style="color:#ffffff;">| My Role &amp; Scope</h3>
        <ul style="color:#ffffff; font-size:1.3rem;">
            <li>Worked from concept to field-ready prototype, covering CAD, electronics, code, and testing.</li>
            <li>Designed modular <strong>8020 aluminum chassis</strong>.</li>
            <li>Developed entire CAD assembly from concept to detailed drawings.</li>
            <li>Developed <strong>dual-Arduino master-slave firmware</strong> with 2.4 GHz RF link for low-latency remote control.</li>
        </ul>
        <br>
        <br>
        <!-- SYSTEM ARCHITECTURE TABLE -->
        <h3 style="color:#ffffff;">| System Architecture</h3>
        <div style="overflow-x:auto;">
        <table style="width:100%;border-collapse:collapse;color:#ffffff;text-align:left; font-size:1.3rem;">
            <thead>
                <tr>
                    <th style="border-bottom:1px solid #888;">Sub-system</th>
                    <th style="border-bottom:1px solid #888;">Hardware / Software</th>
                    <th style="border-bottom:1px solid #888;">Why</th>
                    <th style="border-bottom:1px solid #888;">Source</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>Chassis</td><td>8020 alu extrusion + ABS/PETG panels</td><td>Modular &amp; weather-resistant</td><td>80/20 Inc.</td></tr>
                <tr><td>Drivetrain</td><td>2 × 12 V DC gear-motors + chain &amp; sprocket</td><td>High torque, tight turns</td><td>Pololu / Tsubaki</td></tr>
                <tr><td>Watering</td><td>12 V water pumps + PVC piping</td><td>Precise metering</td><td>Autobonics</td></tr>
                <tr><td>Fertilizing</td><td>Venturi spray nozzle</td><td>Uniform coverage</td><td>Custom</td></tr>
                <tr><td>Controller</td><td>Arduino Uno (master) + Nano (slave) + nRF24L01</td><td>Low-latency RF</td><td>Arduino / Nordic</td></tr>
                <tr><td>Power</td><td>12 V 9 Ah LiFePO₄</td><td>Long endurance</td><td>Bioenno Power</td></tr>
            </tbody>
        </table>
        </div>
        <br>
        <img src="../images/gcr_iso.png" alt="GCR CAD model" style="display: block; margin: 0 auto;">
        <br>
        <br>
        <!-- ELECTRONICS & CONTROL -->
        <h3 style="color:#ffffff;">| Electronics &amp; Control</h3>
        <div style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem;">
            <img src="../images/electronic_simple.png" alt="Block diagram" style="width: 32%;height:auto;">
            <img src="../images/gcr_schematic.png" alt="Schematic" style="width: 32%;height:auto;">
            <img src="../images/gcr_RC.png" alt="RC Transmitter" style="width: 32%;height:auto;">
        </div>
        <p style="color:#ffffff; text-align:center;font-size:1em;">Dual-Arduino architecture, wiring schematic, and custom RC remote.</p>
        <br>

        <!-- Electronics Housing Design -->
        <p style="color:#ffffff;">
            A custom electronics housing was designed and 3D printed to securely mount the battery and electronic components within the chassis. The housing features dedicated compartments for the battery, Arduino controllers, and power distribution boards, improving cable organization and preventing interference with the moving chain drive system. The design incorporates mounting points for secure attachment to the 8020 frame and includes ventilation slots for thermal management.
        </p>
        <div style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem;">
            <img src="../images/gcr_elecHousingIso.png" alt="Electronics housing isometric view" style="width:32%;height:auto;">
            <img src="../images/gcr_elecHousingTop.png" alt="Electronics housing top view" style="width:32%;height:auto;">
            <img src="../images/gcr_electronicHousing.png" alt="Electronics housing implementation" style="width:32%;height:auto;">
        </div>
        <p style="color:#ffffff; text-align:center;font-size:1em;">CAD design and implementation of the custom electronics housing showing component layout and mounting features.</p>
        <br>

        <!-- SUB-SYSTEMS -->
        <h3 style="color:#ffffff;">| Watering &amp; Fertilizing Modules</h3>
        <div style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem;">
            <img src="../images/gcr_watertank.png" alt="Water tank" style="width:32%;height:auto;">
            <img src="../images/water_tank_pumps.png" alt="Pump array" style="width:32%;height:auto;">
            <img src="../images/gcr_fert.png" alt="Fertilizer module" style="width:32%;height:auto;">
        </div>
        <br>
        <!-- MANUFACTURING & DRIVETRAIN -->
        <h3 style="color:#ffffff;">| Manufacturing &amp; Drivetrain</h3>
        <div style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem;">
            <img src="../images/chassis_build.png" alt="Chassis build" style="width:48%;height:auto;">
            <img src="../images/double_motor.png" alt="Twin motor drivetrain" style="width:48%;height:auto;">
        </div>

        <!-- ARDUINO CODE OVERVIEW -->
        <h3 style="color:#ffffff;">| Arduino Firmware Overview</h3>
        <p style="color:#ffffff;">
            The firmware is split across two sketches – <code>Master_Code.ino</code> on an Arduino&nbsp;Uno and <code>Slave_Code.ino</code> on an Arduino&nbsp;Nano. The Uno reads raw PWM signals from the FlySky&nbsp;FS-i6X receiver, steers the drivetrain at 75&nbsp;Hz, and forwards any plant-care commands to the Nano over a 400&nbsp;kHz I<sup>2</sup>C bus (address&nbsp;0×08). The Nano in turn drives the high-current actuator, pumps, and conveyor motor so power wiring stays short and serviceable.
        </p>

        <!-- Code Overview -->
        <div style="background:#111;color:#0f0;padding:1rem;overflow-x:auto;font-size:0.9rem;margin:1rem 0;">
            <h4 style="color:#0f0;margin-top:0;">Master Code (Arduino Uno)</h4>
            <pre><code>// ───────── Motor Pins ─────────
//Right motor
#define PWM_A 9  // 
#define A1    8  //
#define A2    10 //

#define PWM_B 11 // Left motor
#define B1    12
#define B2    13

// ───────── RC Input Channels ─────────
const int steeringPin = 2;
const int throttlePin = 3;
const int pumpPin = 5;
const int actuatorPin = 4;
const int motorPin = 6;

// ───────── Signal Range + Thresholds ─────────
#define PULSE_MIN  980
#define PULSE_MAX  1980
#define SPEED_MIN -255
#define SPEED_MAX  255
#define DEADZONE   20

void loop() {
  if (millis() - lastUpdate >= updateInterval) {
    lastUpdate = millis();

    int throttle, steering, pumpSignal;
    readInputs(throttle, steering, pumpSignal);

    int rightMotorSpeed, leftMotorSpeed;
    calculateMotorSpeeds(throttle, steering, rightMotorSpeed, leftMotorSpeed);
    applyMotorSpeeds(rightMotorSpeed, leftMotorSpeed);

    int actuatorSignal = pulseIn(actuatorPin, HIGH);
    int motorSignal = pulseIn(motorPin, HIGH);
    sendToSlave(actuatorSignal, motorSignal, pumpSignal);
  }
}</code></pre>

            <h4 style="color:#0f0;">Slave Code (Arduino Nano)</h4>
            <pre><code>// ───── Pin Map ─────
#define ACTUATOR_PWM 3
#define ACTUATOR_IN1 5
#define ACTUATOR_IN2 6

#define MOTOR_ENA 9   // PWM-capable pin

#define PUMP_A_ENA 10
#define PUMP_B_ENA 11

// ───── Thresholds ─────
int prevActSignal = -1;
const int deadzone = 10;

void receiveEvent(int howMany) {
  if (howMany < 6) return;

  int actSignal   = (Wire.read() << 8) | Wire.read();
  int motorSignal = (Wire.read() << 8) | Wire.read();
  int pumpSignal  = (Wire.read() << 8) | Wire.read();

  // ───── 12V Motor ─────
  if (motorSignal > 1500) {
    analogWrite(MOTOR_ENA, 255);
  } else {
    analogWrite(MOTOR_ENA, 0);
  }

  // ───── Pumps ─────
  bool pumpON = pumpSignal > 1500;
  analogWrite(PUMP_A_ENA, pumpON ? 255 : 0);
  analogWrite(PUMP_B_ENA, pumpON ? 255 : 0);

  // ───── Actuator Control ─────
  if (actSignal < 1010) {
    digitalWrite(ACTUATOR_IN1, LOW);
    digitalWrite(ACTUATOR_IN2, HIGH);
    analogWrite(ACTUATOR_PWM, 255);
  } else if (actSignal > 1980) {
    digitalWrite(ACTUATOR_IN1, HIGH);
    digitalWrite(ACTUATOR_IN2, LOW);
    analogWrite(ACTUATOR_PWM, 255);
  } else {
    // ... actuator position control logic ...
  }
}</code></pre>
        </div>

        <p style="color:#ffffff;">
            The code implements a robust control system with several key features:
        </p>
        <ul style="color:#ffffff;font-size:1.1rem;">
            <li><strong>Master Controller (Uno)</strong>
                <ul>
                    <li>Reads 5 RC channels (throttle, steering, pump, actuator, motor) at 20 Hz</li>
                    <li>Implements differential drive with deadzone compensation</li>
                    <li>Maps RC pulses (980-1980 µs) to motor speeds (-255 to 255)</li>
                    <li>Includes debug output for real-time monitoring</li>
                </ul>
            </li>
            <li><strong>Slave Controller (Nano)</strong>
                <ul>
                    <li>Controls high-current devices: linear actuator, conveyor motor, and dual pumps</li>
                    <li>Implements threshold-based control for binary devices (pumps, motor)</li>
                    <li>Uses position-based control for the linear actuator</li>
                    <li>Includes debug output for actuator and pump states</li>
                </ul>
            </li>
        </ul>
        <br>

        <!-- ANALYSIS & VERIFICATION -->
        <h3 style="color:#ffffff;">| Analysis &amp; Verification</h3>
        <ul style="color:#ffffff;">
            <li><strong>Field trials</strong> – Completed 50-ft traversal &amp; watering in 6 min with 0.01 m turn radius.</li>
            <li><strong>Throughput testing</strong> – 26 % higher consumable capacity than initial design spec.</li>
            <li><strong>Reliability</strong> – 60-hour endurance run with zero drivetrain or electronics failures.</li>
            <li><strong>FEA</strong> – Aluminum 6061 Yield Strength: 5.515e7 Nsm. Horizontal load force: 83.4 lbf (equivalent to 10 gallon water weight). FOS: 3.78. 7 screw connections along 20 inch tank span length.</li>
        </ul>
        <div style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem;margin:1rem 0;">
            <img src="../images/gcr_rail.png" alt="GCR rail assembly" style="width:48%;height:auto;">
            <img src="../images/rail_fea.jpg" alt="FEA analysis of rail assembly" style="width:48%;height:auto;">
        </div>
        <br>
        <br>

        <!-- IMPACT & LESSONS LEARNED -->
        <h3 style="color:#ffffff;">| Impact &amp; Lessons Learned</h3>
        <p style="color:#ffffff;">
            Bringing GCR from blank sheet to field test deepened my appreciation for <strong>end-to-end systems thinking</strong>:
            translating user pain-points into requirements, validating them with FMECA, and closing the loop with
            instrumented field trials.  I gained hands-on experience in <em>design-for-assembly</em> (8020 framing, chain
            alignment jigs) and <em>design-for-serviceability</em> (tool-free module swaps).  Debugging the dual-Arduino
            firmware taught me the value of layered diagnostics and watchdog timers.  Working with a cross-functional team
            hardened my soft skills—weekly design reviews, Gantt tracking, and rapid knowledge sharing turned five students
            into a cohesive engineering unit.
        </p>
        <br>
        <hr style="border:0;border-top:1px solid #666;margin:3rem 0;">
        <p style="color:#ffffff;text-align:center;font-weight:bold;">
            TL;DR – Built a modular dual-Arduino garden robot that waters &amp; fertilizes 50 ft rows, hits 0.01 m turns, and boosts capacity by 26 % — all under budget.
        </p>
        <hr style="border:0;border-top:1px solid #757575;margin:3rem 0;">
        </div>
    </section>

    <!-- PHOTO & VIDEO GALLERY -->
    <div class="centered-content">
    <h3 style="color:#ffffff;">| Gallery</h3>
    <div style="display:flex;flex-wrap:wrap;gap:1.5rem;justify-content:center;">
        <figure style="flex:1 1 45%;max-width:45%;text-align:center;">
            <img src="../images/gcr_iso.png" alt="GCR ISO assembly" style="width:100%;height:auto;">
            <figcaption style="color:#ffffff;font-size:0.9rem;">ISO view during final assembly – shows modular 8020 frame and protective side panels.</figcaption>
        </figure>
        <figure style="flex:1 1 45%;max-width:45%;text-align:center;">
            <img src="../images/gcr_chassis_top.png" alt="Top-down chassis" style="width:100%;height:auto;">
            <figcaption style="color:#ffffff;font-size:0.9rem;">Top-down look highlighting water &amp; fertilizer tanks and dual-Arduino enclosure.</figcaption>
        </figure>
        <figure style="flex:1 1 45%;max-width:45%;text-align:center;">
            <img src="../images/gcr_side.png" alt="Side profile" style="width:100%;height:auto;">
            <figcaption style="color:#ffffff;font-size:0.9rem;">Side profile illustrating compact ground clearance and chain-drive layout.</figcaption>
        </figure>
        <figure style="flex:1 1 45%;max-width:45%;text-align:center;">
            <img src="../images/gcr_linearactuator.jpg" alt="Linear actuator" style="width:100%;height:auto;">
            <figcaption style="color:#ffffff;font-size:0.9rem;">Close-up of the 100&nbsp;mm linear actuator responsible for fertilizer hatch-dispense control.</figcaption>
        </figure>
        <figure style="flex:1 1 45%;max-width:45%;text-align:center;">
            <img src="../images/gcr_drivetrainmotorswith60AHbridge.jpg" alt="Drivetrain with 60A H-bridge" style="width:100%;height:auto;">
            <figcaption style="color:#ffffff;font-size:0.9rem;">Drivetrain bench-test – twin 12&nbsp;V gear-motors wired through a 60&nbsp;A H-bridge.</figcaption>
        </figure>
        <figure style="flex:1 1 45%;max-width:45%;text-align:center;">
            <img src="../images/gcr_3dprintmotorshaftadapter.jpg" alt="3-D printed shaft adapter" style="width:100%;height:auto;">
            <figcaption style="color:#ffffff;font-size:0.9rem;">Custom 3-D printed motor-shaft adapter that aligns fertilizer disc motor.</figcaption>
        </figure>
        <!-- Video Demonstration -->
        <figure style="flex:1 1 90%;max-width:90%;text-align:center;">
            <video controls style="width:50%;height:auto;">
                <source src="../images/gcr_testing.MOV" type="video/mp4">
                Your browser does not support the video tag. <a href="../images/gcr_testing.MOV">Download video</a>.
            </video>
            <figcaption style="color:#ffffff;font-size:0.9rem;">Field trial clip.</figcaption>
        </figure>

        <!-- Engineering Drawings Appendix -->
        <h3 style="color:#ffffff;margin-top:2rem;">| Engineering Drawings Appendix</h3>
        <div style="display:flex;flex-wrap:wrap;gap:1.5rem;justify-content:center;">
            <figure style="flex:1 1 45%;max-width:45%;text-align:center;">
                <img src="../images/gcr_engdraw1.png" alt="AndyMark CIM Motor with 16-tooth pinion" style="width:100%;height:auto;">
                <figcaption style="color:#ffffff;font-size:0.9rem;">Drawing 1: AndyMark CIM Motor with 16-tooth pinion - Primary drive motor with integrated pinion gear for chain drive system.</figcaption>
            </figure>
            <figure style="flex:1 1 45%;max-width:45%;text-align:center;">
                <img src="../images/gcr_engdraw2.png" alt="AndyMark CIM Planetary Gearbox" style="width:100%;height:auto;">
                <figcaption style="color:#ffffff;font-size:0.9rem;">Drawing 2: AndyMark CIM Planetary Gearbox - High-torque planetary gearbox for motor speed reduction and torque multiplication.</figcaption>
            </figure>
            <figure style="flex:1 1 45%;max-width:45%;text-align:center;">
                <img src="../images/gcr_engdraw3.png" alt="15-tooth motor shaft sprocket" style="width:100%;height:auto;">
                <figcaption style="color:#ffffff;font-size:0.9rem;">Drawing 3: 15-tooth motor shaft sprocket - Drive sprocket mounted on motor output shaft for chain drive system.</figcaption>
            </figure>
            <figure style="flex:1 1 45%;max-width:45%;text-align:center;">
                <img src="../images/gcr_engdraw4.png" alt="45-tooth wheel shaft sprocket" style="width:100%;height:auto;">
                <figcaption style="color:#ffffff;font-size:0.9rem;">Drawing 4: 45-tooth wheel shaft sprocket - Driven sprocket mounted on wheel shaft, providing 3:1 speed reduction.</figcaption>
            </figure>
            <figure style="flex:1 1 45%;max-width:45%;text-align:center;">
                <img src="../images/gcr_engdraw5.png" alt="Block Bearing for Wheel and Motor shafts" style="width:100%;height:auto;">
                <figcaption style="color:#ffffff;font-size:0.9rem;">Drawing 5: Block Bearing for Wheel and Motor shafts - Pillow block bearing assembly for supporting rotating shafts.</figcaption>
            </figure>
            <figure style="flex:1 1 45%;max-width:45%;text-align:center;">
                <img src="../images/gcr_engdraw6.png" alt="Submersible Water Pump" style="width:100%;height:auto;">
                <figcaption style="color:#ffffff;font-size:0.9rem;">Drawing 6: Submersible Water Pump - 12V DC submersible pump for water delivery system.</figcaption>
            </figure>
        </div>
    </div>

    <hr style="border:0;border-top:1px solid #757575;margin:3rem 0;">
</body>
</html>